{% extends "layout.html" %}
{% load cms_tags staticfiles %}
{% block extra_script %}
<script src="{% static 'data/cambodia.js' %}"></script>
<script src="{% static 'data/cam_adm2.js' %}"></script>
<script src="{% static 'data/protected_area.js' %}"></script>
{% endblock %}
{% block main_container %}

<!-- Main Container -->
<div class="row" ng-controller="mapcontroller">
  <!-- Loader Container -->
  <div id="loader" class="loader" ng-show="showLoader">
    <i class="loading-img fas fa-circle-notch fa-spin fa-4x"></i>
  </div>
  <!-- Alert Container -->
  <div class="alert alert-dismissible text-center display-none custom-alert" role="alert">
    <button type="button" class="close" ng-click="closeAlert()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <strong> [[alertContent]] </strong>
  </div>

  <!-- Left Munu -->
  {% include "panels/left-menu.html" %}

  <div class="map-controller">
				<header>
					<h1>Dashboard Controls</h1>
					<div id="collapse-button" class="foldable-btn up"></div>
					<input id="disclaimer-button" type="button" name="disclaimer-button" value="i">
				</header>

				<div id="controls" class="body-controls">
					<table>
						<colgroup>
							<col style="width: 291px">
							<col style="width: 21px">
						</colgroup>
					  <tr>
						<td><h3>1. Select a time period for the baseline EVI</h3></td>
						<td><h3 class="step"> ?</h3></td>
					  </tr>
					</table>

					<div style="width:70%; margin-left:15px;">
              <input type="text" class="js-range-slider" id="baseline_period" name="baseline_period" />
          </div>

					<table>
						<colgroup>
							<col style="width: 291px">
							<col style="width: 21px">
						</colgroup>
					  <tr>
						<td><h3>2. Select a time period to measure</h3></td>
						<td><h3 class="step">?</h3></td>
						</tr>
					</table>
					<div style="width:70%; margin-left:15px;">
              <input type="text" class="js-range-slider" id="measure_period" name="measure_period" />
          </div>

					<table>
						<colgroup>
							<col style="width: 291px">
							<col style="width: 21px">
						</colgroup>
						<tr>
							<td><h3>3. Choose a polygon selection method</h3></td>
							<td><h3 class="step">?</h3></td>
						</tr>
					</table>

					<div class="image-options">
		        <button class="protected_area_button">
		          <div class="button-wrapper">
		            <svg class="c-icon icon-square-point" viewBox="0 0 45 45">
		              <image xlink:href="/static/images/icons/map-point.svg" />
		            </svg>
		            <div class="label-text">
		              PROTECTED AREA
		            </div>
		          </div>
		        </button>
		        <button class="district_button">
		          <div class="button-wrapper">
		            <svg class="c-icon icon-square-point" viewBox="0 0 45 45">
		              <image xlink:href="/static/images/icons/map-point.svg" />
		            </svg>
		            <div class="label-text">
		              ADMINISTRATIVE DISTRICT <br>
		            </div>
		          </div>
		        </button>
		        <button class="draw-polygon" id="draw-tool">
		          <div class="button-wrapper">
		            <svg class="c-icon icon-square-point" viewBox="0 0 45 45">
		              <image xlink:href="/static/images/icons/draw-tool.svg" />
		            </svg>
		            <div class="label-text">
		              DRAW / UPLOAD POLYGON
		            </div>
		          </div>
		        </button>
						<!-- <button class="upload-files" >
		          <div class="button-wrapper">
		            <svg class="c-icon icon-square-point" viewBox="0 0 45 45">
		              <image xlink:href="/static/images/icons/folder.svg" />
		            </svg>
		            <div class="label-text">
		              UPLOAD FILES
		            </div>
		          </div>
		        </button> -->
		      </div>
					<input id="files" type="file" multiple="" name="files1[]" hidden><output id="file_list"></output>

					<!-- <button id="downloadkml" > Download Polygon </button>

					<p> Click a polygon on the map or draw your own</p><p id="polygon">Selection: <em id="name"></em> -->

					</div>
			</div> <!-- end of ui display block -->

  <!-- Map Container -->
  <!-- <div class="map" id="map" ng-init="getAvailabelDate();"> -->
  <div class="map" id="map" ng-init="getpermanentwater('2010', '2015', '01', '12', 'discrete', '#00008b'); getAvailabelDate(); getAdmin3List();">
    <div class="control-panel map-component">
      <div class="scalebar-container"></div>
      <!-- Map Munu -->
      {% include "panels/map-menu.html" %}
    </div>
  </div>

  <div id="layers" name="layers" data-historical-url="{{historical_layer}}" data-admin-url="{{admin_layer}}" data-flood-url="{{flood_layer}}" style="display:none;"></div>

  <div class="infobox" id="legend-info-box">
    <span>
      You can change a water color by clicking on a color box.
    </span>
  </div>

  <div class="usecase-infobox" id="usecase-info-box">
    <button type="button" class="close-btn-usecase" ng-click="closeUsecaseInfo()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <h3 id="usecase-title"></h3>
    <p id="usecase-info"></p>
    <p id="usecase-info-2"></p>
  </div>


  {% include "panels/draw-tool-panel.html" %}
  {% include "panels/disclaimer.html" %}

  {% include "panels/legendbox.html" %}

</div>

</div>
{% endblock main_container %}
